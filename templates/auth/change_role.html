{% extends "base.html" %}

{% set breadcrumbs = [
    ('index', 'Inicio'),
    ('auth.list_users', 'Usuarios'),
    (None, 'Cambiar Rol')
] %}

{% block content %}
<div class="space-y-6 px-6 pt-4">
    <div class="card-container max-w-lg mx-auto">
        <form method="POST" class="space-y-6">
            <div class="p-4">
                <!-- InformaciÃ³n del Rol -->
                <div class="space-y-6">
                    <h3 class="text-lg font-medium text-gray-900 dark:text-gray-100 flex items-center">
                        <span class="material-symbols-outlined text-primary-600 dark:text-primary-400 mr-2">admin_panel_settings</span>
                        Cambiar Rol de Usuario
                    </h3>
                    
                    <p class="text-sm text-gray-600 dark:text-gray-400">
                        Seleccione el nuevo rol para <span class="font-medium text-gray-900 dark:text-gray-100">{{ user.username }}</span>
                    </p>
                    
                    <div class="form-group">
                        <label for="role" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">
                            Nuevo Rol:
                        </label>
                        <select name="role" id="role" 
                                class="form-select w-full rounded-lg border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 focus:border-primary-500 focus:ring-primary-500 transition-colors duration-150">
                            {% for role in roles %}
                                <option value="{{ role.name }}" {% if user.role == role %}selected{% endif %}>
                                    {{ role.value }}
                                </option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
            </div>

            <div class="px-6 py-4 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-200 dark:border-gray-700 rounded-b-xl flex justify-end space-x-4">
                <a href="{{ url_for('auth.list_users') }}" 
                   class="btn-secondary">
                    <span class="material-symbols-outlined mr-2">keyboard_backspace</span>Volver
                </a>
                <button type="submit" class="btn-primary flex items-center">
                    <span class="material-symbols-outlined mr-2">save</span>Guardar Cambios
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}
